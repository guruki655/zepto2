{"version":3,"file":"static/js/584.0dab0a15.chunk.js","mappings":"wKAiGA,QA7FA,WACE,MAAOA,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,CACvCC,MAAO,GACPC,SAAU,MAELC,EAAcC,IAAmBJ,EAAAA,EAAAA,WAAS,GAE3CK,EAAgBC,IACpBP,EAAY,IAAKD,EAAU,CAACQ,EAAEC,OAAOC,MAAOF,EAAEC,OAAOE,OAAQ,EAqC/D,OACEC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mEAAmEC,MAAO,CAAEC,UAAW,SAAUC,UAC9GC,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,6BAA6BC,MAAO,CAAEI,MAAO,SAAUF,SAAA,EACpEJ,EAAAA,EAAAA,KAAA,MAAIC,UAAU,mBAAkBG,SAAC,WACjCC,EAAAA,EAAAA,MAAA,QAAME,SAlCSC,UACnBZ,EAAEa,iBACF,IACEC,QAAQC,IAAI,gBAAiBC,yBAC7B,MAAMC,QAAYC,EAAAA,EAAMC,KAAK,uCAAwD3B,GAGrF,GAFAsB,QAAQC,IAAI,iBAAkBE,EAAIG,OAE7BH,EAAIG,KAAKzB,MACZ,MAAM,IAAI0B,MAAM,kCAGlBC,aAAaC,QAAQ,QAASN,EAAIG,KAAKI,OACvCF,aAAaC,QAAQ,QAASN,EAAIG,KAAKzB,OACvCmB,QAAQC,IAAI,yBAA0BO,aAAaG,QAAQ,UAE3DC,MAAM,qBAEgB,aAAlBT,EAAIG,KAAKO,KACXC,OAAOC,SAASC,KAAO,IACI,UAAlBb,EAAIG,KAAKO,KAClBC,OAAOC,SAASC,KAAO,kBAEvBF,OAAOC,SAASC,KAAO,kBAE3B,CAAE,MAAOC,GACPjB,QAAQkB,MAAM,eAAgBD,EAAIE,SAAWF,EAAIE,SAASb,KAAOW,EAAIG,SACrER,MAAM,sBACR,GAOiClB,SAAA,EAC3BJ,EAAAA,EAAAA,KAAA,OAAKC,UAAU,OAAMG,UACnBJ,EAAAA,EAAAA,KAAA,SACE+B,KAAK,QACLjC,KAAK,QACLG,UAAU,eACV+B,YAAY,QACZjC,MAAOX,EAASG,MAChB0C,SAAUtC,EACVuC,UAAQ,OAGZlC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,OAAMG,UACnBC,EAAAA,EAAAA,MAAA,OAAKJ,UAAU,cAAaG,SAAA,EAC1BJ,EAAAA,EAAAA,KAAA,SACE+B,KAAMtC,EAAe,OAAS,WAC9BK,KAAK,WACLG,UAAU,eACV+B,YAAY,WACZjC,MAAOX,EAASI,SAChByC,SAAUtC,EACVuC,UAAQ,KAEVlC,EAAAA,EAAAA,KAAA,UACE+B,KAAK,SACL9B,UAAU,4BACVkC,QAhEmBC,KAC/B1C,GAAiBD,EAAa,EA+DgBW,UAElCJ,EAAAA,EAAAA,KAAA,KAAGC,UAAWR,EAAe,kBAAoB,sBAIvDO,EAAAA,EAAAA,KAAA,OAAKC,UAAU,SAAQG,UACrBJ,EAAAA,EAAAA,KAAA,UAAQ+B,KAAK,SAAS9B,UAAU,kBAAiBG,SAAC,aAEpDJ,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mBAAkBG,UAC/BJ,EAAAA,EAAAA,KAAA,KAAG0B,KAAK,kBAAkBzB,UAAU,eAAcG,SAAC,8BAM/D,C","sources":["components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport 'bootstrap-icons/font/bootstrap-icons.css'; // Import Bootstrap Icons\r\n\r\nfunction Login() {\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n  const [showPassword, setShowPassword] = useState(false); // State for password visibility\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const togglePasswordVisibility = () => {\r\n    setShowPassword(!showPassword);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      console.log('API Base URL:', process.env.REACT_APP_API_BASE_URL); // Debug log\r\n      const res = await axios.post(`${process.env.REACT_APP_API_BASE_URL}/api/auth/login`, formData);\r\n      console.log('Response data:', res.data);\r\n\r\n      if (!res.data.email) {\r\n        throw new Error('Email not received from server');\r\n      }\r\n\r\n      localStorage.setItem('token', res.data.token);\r\n      localStorage.setItem('email', res.data.email);\r\n      console.log('Email in localStorage:', localStorage.getItem('email'));\r\n\r\n      alert('Login successful!');\r\n\r\n      if (res.data.role === 'customer') {\r\n        window.location.href = '/';\r\n      } else if (res.data.role === 'admin') {\r\n        window.location.href = '/AdminDashboard';\r\n      } else {\r\n        window.location.href = '/VendorDashboard';\r\n      }\r\n    } catch (err) {\r\n      console.error('Login error:', err.response ? err.response.data : err.message);\r\n      alert('Enter valid details');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-container d-flex justify-content-center align-items-center\" style={{ minHeight: '100vh' }}>\r\n      <div className=\"card p-4 shadow login-card\" style={{ width: '350px' }}>\r\n        <h2 className=\"text-center mb-4\">Login</h2>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"mb-3\">\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              className=\"form-control\"\r\n              placeholder=\"Email\"\r\n              value={formData.email}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <div className=\"input-group\">\r\n              <input\r\n                type={showPassword ? 'text' : 'password'}\r\n                name=\"password\"\r\n                className=\"form-control\"\r\n                placeholder=\"Password\"\r\n                value={formData.password}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-outline-secondary\"\r\n                onClick={togglePasswordVisibility}\r\n              >\r\n                <i className={showPassword ? 'bi bi-eye-slash' : 'bi bi-eye'}></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div className=\"d-grid\">\r\n            <button type=\"submit\" className=\"btn btn-primary\">Login</button>\r\n          </div>\r\n          <div className=\"text-center mt-3\">\r\n            <a href=\"/ForgotPassword\" className=\"text-primary\">Forgot Password?</a>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;"],"names":["formData","setFormData","useState","email","password","showPassword","setShowPassword","handleChange","e","target","name","value","_jsx","className","style","minHeight","children","_jsxs","width","onSubmit","async","preventDefault","console","log","process","res","axios","post","data","Error","localStorage","setItem","token","getItem","alert","role","window","location","href","err","error","response","message","type","placeholder","onChange","required","onClick","togglePasswordVisibility"],"sourceRoot":""}