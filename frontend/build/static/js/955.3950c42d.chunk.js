"use strict";(self.webpackChunkzepto2=self.webpackChunkzepto2||[]).push([[955],{9955:(e,t,r)=>{r.r(t),r.d(t,{default:()=>s});var c=r(5043),a=r(6213),d=(r(8421),r(579));const s=function(){const[e,t]=(0,c.useState)([]),[r,s]=(0,c.useState)([]),[o,n]=(0,c.useState)(!1),[l,i]=(0,c.useState)(!1),[u,h]=(0,c.useState)({ProductID:"",ProductName:"",ProductDescription:"",ProductLocation:"",ProductPrice:"",ProductQuantity:"",ProductType:"",ProductSubType:"",ProductWeight:"",ProductShelf:"",ProductBrand:"",ProductMaterial:"",ProductImage:null,ProductRating:1}),[m,x]=(0,c.useState)(null),[p,j]=(0,c.useState)({ProductPrice:"",ProductRating:""});(0,c.useEffect)((()=>{P(),g()}),[]);const P=async()=>{try{console.log("Fetching products from:","http://15.207.88.145:5000/api/customers");const e=await a.A.get("http://15.207.88.145:5000/api/customers");t(e.data)}catch(e){console.error("Error fetching products:",e)}},g=async()=>{try{console.log("Fetching orders from:","http://15.207.88.145:5000/api/customers/orders/all");const e=await a.A.get("http://15.207.88.145:5000/api/customers/orders/all");s(e.data)}catch(e){console.error("Error fetching orders:",e)}},N=e=>{const{name:t,value:r,files:c}=e.target;h("ProductImage"===t?{...u,ProductImage:c[0]}:{...u,[t]:r}),j({...p,[t]:""})};return(0,d.jsxs)("div",{className:"container my-4",children:[(0,d.jsx)("h2",{className:"mb-4",children:"Vendor Dashboard"}),(0,d.jsx)("div",{className:"card mb-4",children:(0,d.jsx)("div",{className:"card-body",children:(0,d.jsxs)("div",{className:"row g-3",children:[(0,d.jsx)("div",{className:"col-md-4",children:(0,d.jsx)("input",{className:"form-control",name:"ProductID",placeholder:"Product ID",value:u.ProductID,onChange:N})}),(0,d.jsx)("div",{className:"col-md-4",children:(0,d.jsx)("input",{className:"form-control",name:"ProductName",placeholder:"Product Name",value:u.ProductName,onChange:N})}),(0,d.jsx)("div",{className:"col-md-4",children:(0,d.jsx)("input",{className:"form-control",name:"ProductDescription",placeholder:"Description",value:u.ProductDescription,onChange:N})}),(0,d.jsx)("div",{className:"col-md-4",children:(0,d.jsx)("input",{className:"form-control",name:"ProductLocation",placeholder:"Location",value:u.ProductLocation,onChange:N})}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("input",{className:"form-control",name:"ProductPrice",placeholder:"Price",type:"number",min:"0.01",step:"0.01",value:u.ProductPrice,onChange:N}),p.ProductPrice&&(0,d.jsx)("small",{className:"text-danger",children:p.ProductPrice})]}),(0,d.jsx)("div",{className:"col-md-4",children:(0,d.jsx)("input",{className:"form-control",name:"ProductQuantity",placeholder:"Quantity",type:"number",value:u.ProductQuantity,onChange:N})}),(0,d.jsx)("div",{className:"col-md-4",children:(0,d.jsxs)("select",{className:"form-select",name:"ProductType",value:u.ProductType,onChange:N,children:[(0,d.jsx)("option",{value:"",children:"Select Type"}),(0,d.jsx)("option",{value:"Cafe",children:"Cafe"}),(0,d.jsx)("option",{value:"Toys",children:"Toys"}),(0,d.jsx)("option",{value:"FruitsandVegetables",children:"Fruits and Vegetables"}),(0,d.jsx)("option",{value:"Electronics",children:"Electronics"}),(0,d.jsx)("option",{value:"Mobile",children:"Mobile"}),(0,d.jsx)("option",{value:"Makeup",children:"Makeup"}),(0,d.jsx)("option",{value:"Jewellery",children:"Jewellery"}),(0,d.jsx)("option",{value:"FrozenFood",children:"FrozenFood"}),(0,d.jsx)("option",{value:"IceCream",children:"IceCream"}),(0,d.jsx)("option",{value:"PackagedFood",children:"PackagedFood"}),(0,d.jsx)("option",{value:"Skincare",children:"Skincare"}),(0,d.jsx)("option",{value:"HairCare",children:"HairCare"}),(0,d.jsx)("option",{value:"Baby",children:"Baby"})]})}),(0,d.jsx)("div",{className:"col-md-4",children:(0,d.jsx)("input",{className:"form-control",name:"ProductSubType",placeholder:"SubType",value:u.ProductSubType,onChange:N})}),(0,d.jsx)("div",{className:"col-md-4",children:(0,d.jsx)("input",{className:"form-control",name:"ProductWeight",placeholder:"Weight",value:u.ProductWeight,onChange:N})}),(0,d.jsx)("div",{className:"col-md-4",children:(0,d.jsx)("input",{className:"form-control",name:"ProductShelf",placeholder:"Shelf",value:u.ProductShelf,onChange:N})}),(0,d.jsx)("div",{className:"col-md-4",children:(0,d.jsx)("input",{className:"form-control",name:"ProductBrand",placeholder:"Brand",value:u.ProductBrand,onChange:N})}),(0,d.jsx)("div",{className:"col-md-4",children:(0,d.jsx)("input",{className:"form-control",name:"ProductMaterial",placeholder:"Material",value:u.ProductMaterial,onChange:N})}),(0,d.jsx)("div",{className:"col-md-4",children:(0,d.jsx)("input",{className:"form-control",type:"file",name:"ProductImage",onChange:N})}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("input",{className:"form-control",name:"ProductRating",placeholder:"Rating (1-5)",type:"number",min:"1",max:"5",step:"1",value:u.ProductRating,onChange:N}),p.ProductRating&&(0,d.jsx)("small",{className:"text-danger",children:p.ProductRating})]}),(0,d.jsxs)("div",{className:"col-md-12",children:[(0,d.jsxs)("button",{className:"btn btn-primary me-2",onClick:async()=>{if((()=>{let e=!0;const t={ProductPrice:"",ProductRating:""},r=parseFloat(u.ProductPrice);(isNaN(r)||r<=0)&&(t.ProductPrice="Price must be greater than 0",e=!1);const c=parseInt(u.ProductRating);return(isNaN(c)||c<1||c>5)&&(t.ProductRating="Rating must be between 1 and 5",e=!1),j(t),e})())try{const e=new FormData;for(let t in u)e.append(t,u[t]);m?(console.log("Updating product at:",`http://15.207.88.145:5000/api/customers/${m}`),await a.A.put(`http://15.207.88.145:5000/api/customers/${m}`,e,{headers:{"Content-Type":"multipart/form-data"}}),x(null)):(console.log("Adding product at:","http://15.207.88.145:5000/api/customers"),await a.A.post("http://15.207.88.145:5000/api/customers",e,{headers:{"Content-Type":"multipart/form-data"}})),h({ProductID:"",ProductName:"",ProductDescription:"",ProductLocation:"",ProductPrice:"",ProductQuantity:"",ProductType:"",ProductSubType:"",ProductWeight:"",ProductShelf:"",ProductBrand:"",ProductMaterial:"",ProductImage:null,ProductRating:1}),j({ProductPrice:"",ProductRating:""}),P(),n(!o),i(!1)}catch(e){console.error("Error submitting form:",e)}},children:[m?"Update":"Add"," Product"]}),(0,d.jsxs)("button",{className:"btn btn-primary me-2",onClick:()=>{i(!l),n(!1)},children:[l?"Hide":"See"," Order History"]}),(0,d.jsxs)("button",{className:"btn btn-primary",onClick:()=>{n(!o),i(!1)},children:[o?"Hide":"Show"," Products"]})]})]})})}),o&&(0,d.jsx)("div",{className:"table-responsive",children:(0,d.jsxs)("table",{className:"table table-bordered table-striped",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Sl No"}),(0,d.jsx)("th",{children:"Product ID"}),(0,d.jsx)("th",{children:"Name"}),(0,d.jsx)("th",{children:"Description"}),(0,d.jsx)("th",{children:"Location"}),(0,d.jsx)("th",{children:"Price"}),(0,d.jsx)("th",{children:"Quantity"}),(0,d.jsx)("th",{children:"Type"}),(0,d.jsx)("th",{children:"SubType"}),(0,d.jsx)("th",{children:"Weight"}),(0,d.jsx)("th",{children:"Shelf"}),(0,d.jsx)("th",{children:"Brand"}),(0,d.jsx)("th",{children:"Material"}),(0,d.jsx)("th",{children:"Image"}),(0,d.jsx)("th",{children:"Rating"}),(0,d.jsx)("th",{children:"Actions"})]})}),(0,d.jsx)("tbody",{children:e.map(((e,t)=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:t+1}),(0,d.jsx)("td",{children:e.ProductID}),(0,d.jsx)("td",{children:e.ProductName}),(0,d.jsx)("td",{children:e.ProductDescription}),(0,d.jsx)("td",{children:e.ProductLocation}),(0,d.jsx)("td",{children:e.ProductPrice}),(0,d.jsx)("td",{children:e.ProductQuantity}),(0,d.jsx)("td",{children:e.ProductType}),(0,d.jsx)("td",{children:e.ProductSubType}),(0,d.jsx)("td",{children:e.ProductWeight}),(0,d.jsx)("td",{children:e.ProductShelf}),(0,d.jsx)("td",{children:e.ProductBrand}),(0,d.jsx)("td",{children:e.ProductMaterial}),(0,d.jsx)("td",{children:e.ProductImage&&(0,d.jsx)("img",{src:`data:image/jpeg;base64,${e.ProductImage}`,alt:"Product",style:{width:"100px",height:"100px",objectFit:"cover"}})}),(0,d.jsxs)("td",{children:[Array.from({length:Math.floor(e.ProductRating)},((e,t)=>(0,d.jsx)("i",{className:"fas fa-star text-warning"},t))),Array.from({length:5-Math.floor(e.ProductRating)},((t,r)=>(0,d.jsx)("i",{className:"far fa-star text-warning"},r+Math.floor(e.ProductRating))))]}),(0,d.jsxs)("td",{children:[(0,d.jsx)("button",{className:"btn btn-sm btn-warning me-2",onClick:()=>(e=>{h({...e,ProductImage:null}),x(e._id),j({ProductPrice:"",ProductRating:""})})(e),children:"Update"}),(0,d.jsx)("button",{className:"btn btn-sm btn-danger",onClick:()=>(async e=>{try{console.log("Deleting product at:",`http://15.207.88.145:5000/api/customers/${e}`),await a.A.delete(`http://15.207.88.145:5000/api/customers/${e}`),P()}catch(t){console.error("Error deleting product:",t)}})(e._id),children:"Delete"})]})]},e._id)))})]})}),l&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h3",{children:"All Customer Orders"}),(0,d.jsx)("div",{className:"table-responsive",children:(0,d.jsxs)("table",{className:"table table-bordered table-striped",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Sl No"}),(0,d.jsx)("th",{children:"Order ID"}),(0,d.jsx)("th",{children:"Customer Email"}),(0,d.jsx)("th",{children:"Customer Name"}),(0,d.jsx)("th",{children:"Total Amount"}),(0,d.jsx)("th",{children:"Items"}),(0,d.jsx)("th",{children:"Address"}),(0,d.jsx)("th",{children:"Payment Status"}),(0,d.jsx)("th",{children:"Order Date"})]})}),(0,d.jsx)("tbody",{children:r.map(((e,t)=>{var r,c,a;return(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:t+1}),(0,d.jsx)("td",{children:e._id}),(0,d.jsx)("td",{children:(null===(r=e.user)||void 0===r?void 0:r.email)||"N/A"}),(0,d.jsx)("td",{children:(null===(c=e.user)||void 0===c?void 0:c.name)||"N/A"}),(0,d.jsxs)("td",{children:["\u20b9",e.total.toFixed(2)]}),(0,d.jsx)("td",{children:e.items.map(((e,t)=>(0,d.jsxs)("div",{children:[e.ProductName," (Qty: ",e.ProductQuantity,", Price: \u20b9",e.ProductPrice,")"]},t)))}),(0,d.jsx)("td",{children:null!==(a=e.address)&&void 0!==a&&a.addressLine1?`${e.address.houseNo}, ${e.address.addressLine1}, ${e.address.building}`:"N/A"}),(0,d.jsx)("td",{children:e.paymentStatus}),(0,d.jsx)("td",{children:new Date(e.createdAt).toLocaleString()})]},e._id)}))})]})})]})]})}}}]);
//# sourceMappingURL=955.3950c42d.chunk.js.map