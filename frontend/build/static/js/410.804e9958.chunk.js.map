{"version":3,"file":"static/js/410.804e9958.chunk.js","mappings":"kLAwFA,QAlFA,WACE,MAAM,GAAEA,IAAOC,EAAAA,EAAAA,MACRC,EAASC,IAAcC,EAAAA,EAAAA,UAAS,OACjC,UAAEC,EAAS,eAAEC,EAAc,UAAEC,IAAcC,EAAAA,EAAAA,MAEjDC,EAAAA,EAAAA,YAAU,KACaC,WACnB,IACEC,QAAQC,IAAI,yBAA0B,2CAAuDZ,KAC7F,MAAMa,QAAYC,EAAAA,EAAMC,IAAI,2CAAuDf,KACnFG,EAAWU,EAAIG,KACjB,CAAE,MAAOC,GACPN,QAAQO,MAAM,0BAA2BD,EAC3C,GAGFE,EAAc,GACb,CAACnB,IAEJ,MAAMoB,EAAcb,EAAUc,MAAMC,GAASA,EAAKC,aAAqB,OAAPrB,QAAO,IAAPA,OAAO,EAAPA,EAASqB,aACnEC,EAA4C,KAAtB,OAAPtB,QAAO,IAAPA,OAAO,EAAPA,EAASuB,iBAE9B,OACEC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iBAAgBC,SAC5B1B,GACCwB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,WAAUC,UACvBC,EAAAA,EAAAA,MAAA,OAAKF,UAAW,eAAcH,EAAe,eAAiB,IAAKI,SAAA,EACjEF,EAAAA,EAAAA,KAAA,OACEI,IAAK,yBAAyB5B,EAAQ6B,eACtCJ,UAAU,eACVK,IAAK9B,EAAQ+B,YACbC,MAAO,CAAEC,OAAQ,QAASC,UAAW,YAEvCP,EAAAA,EAAAA,MAAA,OAAKF,UAAU,YAAWC,SAAA,EACxBF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,aAAYC,SAAE1B,EAAQ+B,eACpCJ,EAAAA,EAAAA,MAAA,KAAGF,UAAU,YAAWC,SAAA,CAAC,UAAQ1B,EAAQmC,iBACzCR,EAAAA,EAAAA,MAAA,KAAGF,UAAU,YAAWC,SAAA,CAAC,gBAAS1B,EAAQoC,iBAC1CT,EAAAA,EAAAA,MAAA,OAAKF,UAAU,YAAWC,SAAA,CAAC,UACjB,IACPW,MAAMC,KAAK,CAAEC,OAAQC,KAAKC,MAAMzC,EAAQ0C,eAAiB,KAAM,CAACC,EAAGC,KAClEpB,EAAAA,EAAAA,KAAA,KAAWC,UAAU,4BAAbmB,KAETP,MAAMC,KAAK,CAAEC,OAAQ,EAAIC,KAAKC,MAAMzC,EAAQ0C,eAAiB,KAAM,CAACC,EAAGC,KACtEpB,EAAAA,EAAAA,KAAA,KAAoDC,UAAU,4BAAtDmB,EAAIJ,KAAKC,MAAMzC,EAAQ0C,eAAiB,SAGnDpB,GACCE,EAAAA,EAAAA,KAAA,KAAGC,UAAU,mBAAkBC,SAAC,iBAC9BR,GACFS,EAAAA,EAAAA,MAAA,OAAKF,UAAU,4BAA2BC,SAAA,EACxCF,EAAAA,EAAAA,KAAA,UACEC,UAAU,mCACVoB,QAASA,IAAMzC,EAAeJ,EAAQqB,WAAWK,SAClD,OAGDF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,OAAMC,SAAER,EAAY4B,YACpCtB,EAAAA,EAAAA,KAAA,UACEC,UAAU,mCACVoB,QAASA,IAAM1C,EAAUH,GAAS0B,SACnC,UAKHF,EAAAA,EAAAA,KAAA,UACEC,UAAU,kBACVoB,QAASA,IAAM1C,EAAUH,GAAS0B,SACnC,yBAQTF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,gCAIX,C","sources":["components/productPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useCart } from '../contexts/cartContext';\r\nimport '../styles/product.css'\r\n\r\nfunction ProductPage() {\r\n  const { id } = useParams();\r\n  const [product, setProduct] = useState(null);\r\n  const { addToCart, removeFromCart, cartItems } = useCart();\r\n\r\n  useEffect(() => {\r\n    const fetchProduct = async () => {\r\n      try {\r\n        console.log('Fetching product from:', `${process.env.REACT_APP_API_BASE_URL}/api/customers/${id}`); // Debug log\r\n        const res = await axios.get(`${process.env.REACT_APP_API_BASE_URL}/api/customers/${id}`);\r\n        setProduct(res.data);\r\n      } catch (err) {\r\n        console.error('Error fetching product:', err);\r\n      }\r\n    };\r\n\r\n    fetchProduct();\r\n  }, [id]);\r\n\r\n  const cartProduct = cartItems.find((item) => item.ProductID === product?.ProductID);\r\n  const isOutOfStock = product?.ProductQuantity === 0;\r\n\r\n  return (\r\n    <div className=\"container mt-4\">\r\n      {product ? (\r\n        <div className=\"col-lg-3\">\r\n          <div className={`card h-100 ${isOutOfStock ? 'out-of-stock' : ''}`}>\r\n            <img\r\n              src={`data:image/png;base64,${product.ProductImage}`}\r\n              className=\"card-img-top\"\r\n              alt={product.ProductName}\r\n              style={{ height: '220px', objectFit: 'cover' }}\r\n            />\r\n            <div className=\"card-body\">\r\n              <h5 className=\"card-title\">{product.ProductName}</h5>\r\n              <p className=\"card-text\">Brand: {product.ProductBrand}</p>\r\n              <p className=\"card-text\">Price: â‚¹{product.ProductPrice}</p>\r\n              <div className=\"card-text\">\r\n                Rating:{' '}\r\n                {Array.from({ length: Math.floor(product.ProductRating || 1) }, (_, i) => (\r\n                  <i key={i} className=\"fas fa-star text-warning\" />\r\n                ))}\r\n                {Array.from({ length: 5 - Math.floor(product.ProductRating || 1) }, (_, i) => (\r\n                  <i key={i + Math.floor(product.ProductRating || 1)} className=\"far fa-star text-warning\" />\r\n                ))}\r\n              </div>\r\n              {isOutOfStock ? (\r\n                <p className=\"text-danger mt-2\">Out of Stock</p>\r\n              ) : cartProduct ? (\r\n                <div className=\"d-flex align-items-center\">\r\n                  <button\r\n                    className=\"btn btn-sm btn-outline-secondary\"\r\n                    onClick={() => removeFromCart(product.ProductID)}\r\n                  >\r\n                    -\r\n                  </button>\r\n                  <span className=\"mx-2\">{cartProduct.quantity}</span>\r\n                  <button\r\n                    className=\"btn btn-sm btn-outline-secondary\"\r\n                    onClick={() => addToCart(product)}\r\n                  >\r\n                    +\r\n                  </button>\r\n                </div>\r\n              ) : (\r\n                <button\r\n                  className=\"btn btn-primary\"\r\n                  onClick={() => addToCart(product)}\r\n                >\r\n                  Add to Cart\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <p>Loading product details...</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductPage;"],"names":["id","useParams","product","setProduct","useState","addToCart","removeFromCart","cartItems","useCart","useEffect","async","console","log","res","axios","get","data","err","error","fetchProduct","cartProduct","find","item","ProductID","isOutOfStock","ProductQuantity","_jsx","className","children","_jsxs","src","ProductImage","alt","ProductName","style","height","objectFit","ProductBrand","ProductPrice","Array","from","length","Math","floor","ProductRating","_","i","onClick","quantity"],"sourceRoot":""}