{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Register(){const[formData,setFormData]=useState({name:'',email:'',password:'',role:'',phone:'',otp:''});const[errors,setErrors]=useState({name:'',email:'',password:'',role:'',phone:'',otp:''});const[isOTPVerified,setIsOTPVerified]=useState(false);const navigate=useNavigate();const handleChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});};const validateForm=()=>{let isValid=true;const newErrors={};if(isOTPVerified){// Name validation\nif(!formData.name){newErrors.name='Name is required.';isValid=false;}else if(!/^[A-Za-z\\s]+$/.test(formData.name)){newErrors.name='Name must contain only letters and spaces.';isValid=false;}else if(formData.name.length<2||formData.name.length>50){newErrors.name='Name must be between 2 and 50 characters.';isValid=false;}// Email validation\nif(!formData.email){newErrors.email='Email is required.';isValid=false;}else{const emailRegex=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;if(!emailRegex.test(formData.email)){newErrors.email='Please enter a valid email address.';isValid=false;}else if(formData.email.includes('..')||formData.email.startsWith('.')||formData.email.includes('.@')){newErrors.email='Please enter a valid email address.';isValid=false;}else if(formData.email.split('@').length!==2||formData.email.split('@')[1].startsWith('-')){newErrors.email='Please enter a valid email address.';isValid=false;}}// Password validation\nif(!formData.password){newErrors.password='Password is required.';isValid=false;}else if(formData.password.length<6){newErrors.password='Password must be at least 6 characters.';isValid=false;}// Role validation\nif(!formData.role){newErrors.role='Role is required.';isValid=false;}}else{// Phone validation\nif(!formData.phone){newErrors.phone='Phone number is required.';isValid=false;}else if(!/^[6-9]\\d{9}$/.test(formData.phone)){newErrors.phone='Phone number must be 10 digits and start with 6-9.';isValid=false;}// OTP validation\nif(!formData.otp){newErrors.otp='OTP is required.';isValid=false;}}setErrors(newErrors);return isValid;};const handleSendOTP=async function(){let isResend=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!/^[6-9]\\d{9}$/.test(formData.phone)){alert('Enter a valid 10-digit phone number starting with 6-9.');return;}try{console.log('Sending OTP to:',`${process.env.REACT_APP_API_BASE_URL}/api/auth/send-otp`);// Debug log\nconst response=await axios.post(`${process.env.REACT_APP_API_BASE_URL}/api/auth/send-otp`,{phone:formData.phone});alert(isResend?'OTP resent successfully!':'OTP sent successfully!');setFormData({...formData,otp:''});// Clear previous OTP input\n}catch(err){if(err.response&&err.response.data&&err.response.data.message==='Phone number already registered'){alert('Phone number already registered!');}else{alert('Failed to send OTP!');}}};const handleResendOTP=()=>{handleSendOTP(true);// Call send OTP with resend flag\n};const handleOTPValidation=async()=>{try{console.log('Verifying OTP at:',`${process.env.REACT_APP_API_BASE_URL}/api/auth/verify-otp`);// Debug log\nconst response=await axios.post(`${process.env.REACT_APP_API_BASE_URL}/api/auth/verify-otp`,{phone:formData.phone,otp:formData.otp});if(response.data.success){setIsOTPVerified(true);alert('OTP verified successfully!');}else{alert('Invalid OTP');}}catch(err){alert('Error verifying OTP');}};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){return;}const{name,email,password,role,phone}=formData;try{console.log('Registering at:',`${process.env.REACT_APP_API_BASE_URL}/api/auth/register`);// Debug log\nconst response=await axios.post(`${process.env.REACT_APP_API_BASE_URL}/api/auth/register`,{name,email,password,role,phone});alert('Registered successfully!');navigate('/login');}catch(err){alert('Registration failed. Try again!');}};return/*#__PURE__*/_jsx(\"div\",{className:\"register-container d-flex justify-content-center align-items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card p-4 shadow register-card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mb-4\",children:\"Register\"}),!isOTPVerified?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phone\",className:\"form-control\",placeholder:\"Phone Number\",value:formData.phone,onChange:handleChange,required:true}),errors.phone&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger\",children:errors.phone})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary w-100 mb-2\",onClick:handleSendOTP,children:\"Send OTP\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 mt-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"otp\",className:\"form-control\",placeholder:\"Enter OTP\",value:formData.otp,onChange:handleChange,required:true}),errors.otp&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger\",children:errors.otp})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-success w-100 mb-2\",onClick:handleOTPValidation,children:\"Verify OTP\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary w-100\",onClick:handleResendOTP,children:\"Resend OTP\"})]}):/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{name:\"name\",className:\"form-control\",placeholder:\"Name\",value:formData.name,onChange:handleChange,required:true}),errors.name&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger\",children:errors.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",className:\"form-control\",placeholder:\"Email\",value:formData.email,onChange:handleChange,required:true}),errors.email&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger\",children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",className:\"form-control\",placeholder:\"Password\",value:formData.password,onChange:handleChange,required:true}),errors.password&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger\",children:errors.password})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"select\",{name:\"role\",className:\"form-select\",value:formData.role,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Role\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Admin\"}),/*#__PURE__*/_jsx(\"option\",{value:\"vendor\",children:\"Vendor\"}),/*#__PURE__*/_jsx(\"option\",{value:\"customer\",children:\"Customer\"})]}),errors.role&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger\",children:errors.role})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:formData.phone,readOnly:true,disabled:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success\",children:\"Register\"})})]})]})});}export default Register;","map":{"version":3,"names":["React","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Register","formData","setFormData","name","email","password","role","phone","otp","errors","setErrors","isOTPVerified","setIsOTPVerified","navigate","handleChange","e","target","value","validateForm","isValid","newErrors","test","length","emailRegex","includes","startsWith","split","handleSendOTP","isResend","arguments","undefined","alert","console","log","process","env","REACT_APP_API_BASE_URL","response","post","err","data","message","handleResendOTP","handleOTPValidation","success","handleSubmit","preventDefault","className","children","type","placeholder","onChange","required","onClick","onSubmit","readOnly","disabled"],"sources":["D:/ITD/zepto2/zepto2/frontend/src/components/Register.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction Register() {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    role: '',\r\n    phone: '',\r\n    otp: ''\r\n  });\r\n\r\n  const [errors, setErrors] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    role: '',\r\n    phone: '',\r\n    otp: ''\r\n  });\r\n\r\n  const [isOTPVerified, setIsOTPVerified] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const validateForm = () => {\r\n    let isValid = true;\r\n    const newErrors = {};\r\n\r\n    if (isOTPVerified) {\r\n      // Name validation\r\n      if (!formData.name) {\r\n        newErrors.name = 'Name is required.';\r\n        isValid = false;\r\n      } else if (!/^[A-Za-z\\s]+$/.test(formData.name)) {\r\n        newErrors.name = 'Name must contain only letters and spaces.';\r\n        isValid = false;\r\n      } else if (formData.name.length < 2 || formData.name.length > 50) {\r\n        newErrors.name = 'Name must be between 2 and 50 characters.';\r\n        isValid = false;\r\n      }\r\n\r\n      // Email validation\r\n      if (!formData.email) {\r\n        newErrors.email = 'Email is required.';\r\n        isValid = false;\r\n      } else {\r\n        const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\r\n        if (!emailRegex.test(formData.email)) {\r\n          newErrors.email = 'Please enter a valid email address.';\r\n          isValid = false;\r\n        } else if (formData.email.includes('..') || formData.email.startsWith('.') || formData.email.includes('.@')) {\r\n          newErrors.email = 'Please enter a valid email address.';\r\n          isValid = false;\r\n        } else if (formData.email.split('@').length !== 2 || formData.email.split('@')[1].startsWith('-')) {\r\n          newErrors.email = 'Please enter a valid email address.';\r\n          isValid = false;\r\n        }\r\n      }\r\n\r\n      // Password validation\r\n      if (!formData.password) {\r\n        newErrors.password = 'Password is required.';\r\n        isValid = false;\r\n      } else if (formData.password.length < 6) {\r\n        newErrors.password = 'Password must be at least 6 characters.';\r\n        isValid = false;\r\n      }\r\n\r\n      // Role validation\r\n      if (!formData.role) {\r\n        newErrors.role = 'Role is required.';\r\n        isValid = false;\r\n      }\r\n    } else {\r\n      // Phone validation\r\n      if (!formData.phone) {\r\n        newErrors.phone = 'Phone number is required.';\r\n        isValid = false;\r\n      } else if (!/^[6-9]\\d{9}$/.test(formData.phone)) {\r\n        newErrors.phone = 'Phone number must be 10 digits and start with 6-9.';\r\n        isValid = false;\r\n      }\r\n\r\n      // OTP validation\r\n      if (!formData.otp) {\r\n        newErrors.otp = 'OTP is required.';\r\n        isValid = false;\r\n      }\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return isValid;\r\n  };\r\n\r\n  const handleSendOTP = async (isResend = false) => {\r\n    if (!/^[6-9]\\d{9}$/.test(formData.phone)) {\r\n      alert('Enter a valid 10-digit phone number starting with 6-9.');\r\n      return;\r\n    }\r\n    try {\r\n      console.log('Sending OTP to:', `${process.env.REACT_APP_API_BASE_URL}/api/auth/send-otp`); // Debug log\r\n      const response = await axios.post(`${process.env.REACT_APP_API_BASE_URL}/api/auth/send-otp`, { phone: formData.phone });\r\n      alert(isResend ? 'OTP resent successfully!' : 'OTP sent successfully!');\r\n      setFormData({ ...formData, otp: '' }); // Clear previous OTP input\r\n    } catch (err) {\r\n      if (err.response && err.response.data && err.response.data.message === 'Phone number already registered') {\r\n        alert('Phone number already registered!');\r\n      } else {\r\n        alert('Failed to send OTP!');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleResendOTP = () => {\r\n    handleSendOTP(true); // Call send OTP with resend flag\r\n  };\r\n\r\n  const handleOTPValidation = async () => {\r\n    try {\r\n      console.log('Verifying OTP at:', `${process.env.REACT_APP_API_BASE_URL}/api/auth/verify-otp`); // Debug log\r\n      const response = await axios.post(`${process.env.REACT_APP_API_BASE_URL}/api/auth/verify-otp`, {\r\n        phone: formData.phone,\r\n        otp: formData.otp\r\n      });\r\n\r\n      if (response.data.success) {\r\n        setIsOTPVerified(true);\r\n        alert('OTP verified successfully!');\r\n      } else {\r\n        alert('Invalid OTP');\r\n      }\r\n    } catch (err) {\r\n      alert('Error verifying OTP');\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n\r\n    const { name, email, password, role, phone } = formData;\r\n\r\n    try {\r\n      console.log('Registering at:', `${process.env.REACT_APP_API_BASE_URL}/api/auth/register`); // Debug log\r\n      const response = await axios.post(`${process.env.REACT_APP_API_BASE_URL}/api/auth/register`, {\r\n        name,\r\n        email,\r\n        password,\r\n        role,\r\n        phone\r\n      });\r\n\r\n      alert('Registered successfully!');\r\n      navigate('/login');\r\n    } catch (err) {\r\n      alert('Registration failed. Try again!');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"register-container d-flex justify-content-center align-items-center\">\r\n      <div className=\"card p-4 shadow register-card\">\r\n        <h2 className=\"text-center mb-4\">Register</h2>\r\n\r\n        {!isOTPVerified ? (\r\n          <div>\r\n            <div className=\"mb-3\">\r\n              <input\r\n                type=\"text\"\r\n                name=\"phone\"\r\n                className=\"form-control\"\r\n                placeholder=\"Phone Number\"\r\n                value={formData.phone}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n              {errors.phone && <small className=\"text-danger\">{errors.phone}</small>}\r\n            </div>\r\n            <button type=\"button\" className=\"btn btn-primary w-100 mb-2\" onClick={handleSendOTP}>\r\n              Send OTP\r\n            </button>\r\n\r\n            <div className=\"mb-3 mt-3\">\r\n              <input\r\n                type=\"text\"\r\n                name=\"otp\"\r\n                className=\"form-control\"\r\n                placeholder=\"Enter OTP\"\r\n                value={formData.otp}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n              {errors.otp && <small className=\"text-danger\">{errors.otp}</small>}\r\n            </div>\r\n            <button type=\"button\" className=\"btn btn-success w-100 mb-2\" onClick={handleOTPValidation}>\r\n              Verify OTP\r\n            </button>\r\n            <button type=\"button\" className=\"btn btn-secondary w-100\" onClick={handleResendOTP}>\r\n              Resend OTP\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"mb-3\">\r\n              <input\r\n                name=\"name\"\r\n                className=\"form-control\"\r\n                placeholder=\"Name\"\r\n                value={formData.name}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n              {errors.name && <small className=\"text-danger\">{errors.name}</small>}\r\n            </div>\r\n            <div className=\"mb-3\">\r\n              <input\r\n                type=\"email\"\r\n                name=\"email\"\r\n                className=\"form-control\"\r\n                placeholder=\"Email\"\r\n                value={formData.email}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n              {errors.email && <small className=\"text-danger\">{errors.email}</small>}\r\n            </div>\r\n            <div className=\"mb-3\">\r\n              <input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                className=\"form-control\"\r\n                placeholder=\"Password\"\r\n                value={formData.password}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n              {errors.password && <small className=\"text-danger\">{errors.password}</small>}\r\n            </div>\r\n            <div className=\"mb-4\">\r\n              <select\r\n                name=\"role\"\r\n                className=\"form-select\"\r\n                value={formData.role}\r\n                onChange={handleChange}\r\n                required\r\n              >\r\n                <option value=\"\">Select Role</option>\r\n                <option value=\"admin\">Admin</option>\r\n                <option value=\"vendor\">Vendor</option>\r\n                <option value=\"customer\">Customer</option>\r\n              </select>\r\n              {errors.role && <small className=\"text-danger\">{errors.role}</small>}\r\n            </div>\r\n            <div className=\"mb-3\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                value={formData.phone}\r\n                readOnly\r\n                disabled\r\n              />\r\n            </div>\r\n            <div className=\"d-grid\">\r\n              <button type=\"submit\" className=\"btn btn-success\">Register</button>\r\n            </div>\r\n          </form>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}